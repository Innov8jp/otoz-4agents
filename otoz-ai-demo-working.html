<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Otoz.ai - The Future of Cross-Border Vehicle Trading</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0a0a0a;
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        /* Welcome Page Styles */
        .welcome-page {
            position: relative;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
        }

        .welcome-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            animation: gridMove 20s linear infinite;
        }

        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(10px, 10px); }
        }

        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }

        .floating-icon {
            position: absolute;
            font-size: 2rem;
            opacity: 0.1;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); }
            100% { transform: translateY(-100px) rotate(360deg); }
        }

        .hero-content {
            text-align: center;
            max-width: 900px;
            z-index: 10;
            position: relative;
        }

        .company-logo {
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(45deg, #fff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            animation: glow 2s ease-in-out infinite alternate;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 20px rgba(255,255,255,0.5)); }
            to { filter: drop-shadow(0 0 30px rgba(255,255,255,0.8)); }
        }

        .otoz-logo {
            width: 100px;
            height: 100px;
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.3));
        }

        .tagline {
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 2rem;
            opacity: 0.9;
            letter-spacing: 0.5px;
        }

        .hero-description {
            font-size: 1.2rem;
            line-height: 1.8;
            margin-bottom: 3rem;
            opacity: 0.8;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
            max-width: 1000px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem;
            text-align: left;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .feature-card:hover::before {
            left: 100%;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .feature-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .feature-desc {
            font-size: 1rem;
            opacity: 0.9;
            line-height: 1.6;
        }

        .cta-container {
            margin-top: 3rem;
        }

        .demo-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            border: none;
            border-radius: 50px;
            padding: 18px 40px;
            font-size: 1.2rem;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 30px rgba(255,107,107,0.4);
            position: relative;
            overflow: hidden;
        }

        .demo-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .demo-btn:hover::before {
            left: 100%;
        }

        .demo-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255,107,107,0.6);
        }

        .stats-container {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: #fff;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Demo Container Styles */
        .demo-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            width: 100%;
            max-width: 1200px;
            height: 80vh;
            display: none;
            overflow: hidden;
            margin: 20px;
        }

        /* Customer Info Popup Styles */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .popup-overlay.active {
            display: flex;
        }

        .customer-info-popup {
            background: white;
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0,0,0,0.25);
            animation: slideInScale 0.4s ease;
        }

        @keyframes slideInScale {
            from { 
                opacity: 0; 
                transform: scale(0.9) translateY(-20px); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) translateY(0); 
            }
        }

        .popup-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }

        .popup-header h3 {
            color: #1e293b;
            margin-bottom: 10px;
            font-size: 24px;
        }

        .popup-header p {
            color: #64748b;
            font-size: 14px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-weight: 600;
            color: #334155;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .form-input, .form-select {
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 14px;
            outline: none;
            transition: all 0.2s ease;
            background: white;
            color: #1e293b;
        }

        .form-input:focus, .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .shipping-terms-section {
            margin: 25px 0;
            padding: 20px;
            background: #f8fafc;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
        }

        .shipping-terms-title {
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .terms-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .term-option {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .term-option:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .term-option.selected {
            border-color: #667eea;
            background: #f0f4ff;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .term-option input[type="radio"] {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }

        .term-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .term-name {
            font-weight: 600;
            color: #1e293b;
            font-size: 16px;
        }

        .term-price {
            font-weight: 700;
            color: #667eea;
            font-size: 16px;
        }

        .term-description {
            font-size: 13px;
            color: #64748b;
            line-height: 1.4;
        }

        .term-breakdown {
            margin-top: 8px;
            font-size: 12px;
            color: #64748b;
        }

        .popup-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
        }

        .popup-btn {
            padding: 12px 24px;
            border-radius: 12px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
            min-width: 120px;
        }

        .popup-btn-primary {
            background: #667eea;
            color: white;
        }

        .popup-btn-primary:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }

        .popup-btn-secondary {
            background: #f1f5f9;
            color: #334155;
            border: 2px solid #e2e8f0;
        }

        .popup-btn-secondary:hover {
            background: #e2e8f0;
        }

        .demo-container.active {
            display: flex;
        }

        .sidebar {
            width: 300px;
            background: #f8fafc;
            border-right: 1px solid #e2e8f0;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
        }

        .logo {
            font-size: 24px;
            font-weight: 800;
            color: #667eea;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .sidebar-logo {
            width: 35px;
            height: 35px;
        }

        .agent-status {
            margin-bottom: 30px;
        }

        .agent-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .agent-card.active {
            border-color: #667eea;
            transform: translateX(5px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
        }

        .agent-card.completed {
            background: #f0fdf4;
            border-color: #22c55e;
        }

        .agent-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            margin-bottom: 10px;
        }

        .agent-name {
            font-weight: 600;
            margin-bottom: 5px;
            color: #1e293b;
        }

        .agent-role {
            font-size: 12px;
            color: #64748b;
        }

        .progress-bar {
            height: 4px;
            background: #e2e8f0;
            border-radius: 2px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
            border-radius: 2px;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .header {
            padding: 20px 30px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .demo-badge {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .back-btn {
            background: #f1f5f9;
            color: #334155;
            border: none;
            border-radius: 8px;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background: #e2e8f0;
        }

        .chat-area {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .car-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            display: none;
        }

        .car-card.active {
            display: block;
            animation: slideInUp 0.5s ease;
        }

        .car-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(45deg, #f3f4f6, #e5e7eb);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            margin-bottom: 20px;
        }

        .car-details {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            align-items: start;
        }

        .car-info h3 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #1e293b;
        }

        .car-specs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .spec-item {
            font-size: 14px;
            color: #64748b;
        }

        .price-section {
            text-align: right;
        }

        .original-price {
            text-decoration: line-through;
            color: #94a3b8;
            font-size: 16px;
        }

        .current-price {
            font-size: 28px;
            font-weight: 700;
            color: #667eea;
            margin: 5px 0;
        }

        .discount-badge {
            background: #22c55e;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        .chat-messages {
            flex: 1;
            max-height: 300px;
            overflow-y: auto;
            margin: 20px 0;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
        }

        .message-content {
            background: #f1f5f9;
            padding: 12px 16px;
            border-radius: 16px;
            max-width: 70%;
            font-size: 14px;
            line-height: 1.4;
            color: #1e293b;
        }

        .message.user .message-content {
            background: #667eea;
            color: white;
        }

        .chat-input-container {
            display: flex;
            gap: 10px;
            padding: 15px 20px;
            border-top: 1px solid #e2e8f0;
            background: #f8fafc;
            border-radius: 0 0 16px 16px;
            margin-top: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 24px;
            font-size: 14px;
            outline: none;
            background: white;
            transition: border-color 0.2s ease;
            color: #1e293b;
        }

        .chat-input:focus {
            border-color: #667eea;
        }

        .send-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: none;
            background: #667eea;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .send-btn:hover {
            background: #5a67d8;
            transform: scale(1.05);
        }

        .negotiation-info {
            background: #f0f4ff;
            border: 1px solid #c7d2fe;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #4338ca;
        }

        .price-range {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-weight: 600;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 12px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 14px;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }

        .btn-success {
            background: #22c55e;
            color: white;
        }

        .btn-success:hover {
            background: #16a34a;
        }

        .invoice-container, .shipping-container {
            background: white;
            border-radius: 16px;
            padding: 25px;
            border: 1px solid #e2e8f0;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .invoice-container.active, .shipping-container.active {
            display: block;
        }

        .invoice-header, .shipping-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }

        .invoice-header h3, .shipping-header h3 {
            color: #1e293b;
            margin-bottom: 10px;
        }

        .invoice-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 25px;
        }

        .detail-section h4 {
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            color: #64748b;
            font-size: 14px;
        }

        .detail-item strong {
            color: #1e293b;
        }

        .total-section {
            background: #f8fafc;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .total-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .total-item.final {
            border-top: 2px solid #e2e8f0;
            padding-top: 15px;
            margin-top: 15px;
            font-size: 18px;
            font-weight: 700;
            color: #1e293b;
        }

        .port-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .port-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .port-card:hover, .port-card.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .port-card h5 {
            color: #1e293b;
            margin-bottom: 5px;
        }

        .port-card p {
            color: #64748b;
            font-size: 12px;
        }

        .shipping-timeline {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            position: relative;
        }

        .shipping-timeline::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: #e2e8f0;
            z-index: 1;
        }

        .timeline-step {
            background: white;
            border: 3px solid #e2e8f0;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 2;
            font-size: 12px;
        }

        .timeline-step.completed {
            border-color: #22c55e;
            background: #22c55e;
            color: white;
        }

        .timeline-step.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .typing-indicator {
            display: none;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            background: #f1f5f9;
            border-radius: 16px;
            width: fit-content;
        }

        .typing-indicator.active {
            display: flex;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: #94a3b8;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .success-animation {
            text-align: center;
            padding: 40px;
        }

        .checkmark {
            font-size: 60px;
            color: #22c55e;
            animation: bounce 1s ease;
        }

        @keyframes bounce {
            0%, 20%, 60%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            80% { transform: translateY(-10px); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .company-logo {
                font-size: 2.5rem;
                flex-direction: column;
                gap: 10px;
            }
            
            .otoz-logo {
                width: 60px;
                height: 60px;
            }
            
            .tagline {
                font-size: 1.2rem;
            }
            
            .hero-description {
                font-size: 1rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .stats-container {
                gap: 2rem;
            }
            
            .demo-container {
                height: 90vh;
                margin: 10px;
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: 200px;
                overflow-x: auto;
            }
            
            .car-details {
                grid-template-columns: 1fr;
            }
            
            .invoice-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Welcome Page -->
    <div class="welcome-page" id="welcome-page">
        <div class="floating-elements">
            <div class="floating-icon" style="left: 10%; animation-delay: 0s;">🚗</div>
            <div class="floating-icon" style="left: 20%; animation-delay: 2s;">⚡</div>
            <div class="floating-icon" style="left: 30%; animation-delay: 4s;">🤖</div>
            <div class="floating-icon" style="left: 40%; animation-delay: 6s;">🌐</div>
            <div class="floating-icon" style="left: 50%; animation-delay: 8s;">💎</div>
            <div class="floating-icon" style="left: 60%; animation-delay: 10s;">🚀</div>
            <div class="floating-icon" style="left: 70%; animation-delay: 12s;">💳</div>
            <div class="floating-icon" style="left: 80%; animation-delay: 14s;">🚚</div>
            <div class="floating-icon" style="left: 90%; animation-delay: 16s;">⚡</div>
        </div>

        <div class="hero-content">
            <div class="company-logo">
                <!-- Otoz.ai Logo SVG -->
                <svg class="otoz-logo" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#764ba2;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#f093fb;stop-opacity:1" />
                        </linearGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                            <feMerge> 
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    
                    <!-- Outer circle -->
                    <circle cx="60" cy="60" r="55" fill="none" stroke="url(#logoGradient)" stroke-width="3" opacity="0.3"/>
                    
                    <!-- Car silhouette -->
                    <path d="M25 70 L35 55 L45 50 L75 50 L85 55 L95 70 L95 85 L25 85 Z" fill="url(#logoGradient)" filter="url(#glow)"/>
                    
                    <!-- Car details -->
                    <path d="M40 55 L45 50 L75 50 L80 55 Z" fill="rgba(255,255,255,0.4)"/>
                    <circle cx="40" cy="80" r="8" fill="white" stroke="url(#logoGradient)" stroke-width="2"/>
                    <circle cx="80" cy="80" r="8" fill="white" stroke="url(#logoGradient)" stroke-width="2"/>
                    
                    <!-- AI brain center -->
                    <circle cx="60" cy="62" r="15" fill="rgba(255,255,255,0.95)" stroke="url(#logoGradient)" stroke-width="2"/>
                    
                    <!-- AI neural network -->
                    <circle cx="55" cy="58" r="2" fill="url(#logoGradient)"/>
                    <circle cx="65" cy="58" r="2" fill="url(#logoGradient)"/>
                    <circle cx="60" cy="66" r="2" fill="url(#logoGradient)"/>
                    <line x1="55" y1="58" x2="60" y2="66" stroke="url(#logoGradient)" stroke-width="1"/>
                    <line x1="65" y1="58" x2="60" y2="66" stroke="url(#logoGradient)" stroke-width="1"/>
                    
                    <!-- Tech elements -->
                    <path d="M55 45 L60 40 L58 42 L63 37 L58 42 L60 45 Z" fill="#FFD700" filter="url(#glow)"/>
                    
                    <!-- Company initials -->
                    <text x="60" y="95" text-anchor="middle" fill="url(#logoGradient)" font-size="12" font-weight="bold">OTOZ</text>
                </svg>
                Otoz.ai
            </div>
            <div class="tagline">First AI-Driven Cross-Border Used Car Marketplace</div>
            <div class="hero-description">
                Buy Used Cars Globally—Speedy Buying, Shipping Right Away! Powered by AI for Smart, Secure, rapid Transactions—Revolutionizing Car Trade History with our Multi-Agent AI Concierge System.
            </div>

            <div class="stats-container">
                <div class="stat-item">
                    <span class="stat-number">3</span>
                    <span class="stat-label">AI Agents</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">10%</span>
                    <span class="stat-label">Smart Discounts</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Autonomous</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">Global</span>
                    <span class="stat-label">Reach</span>
                </div>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <span class="feature-icon">⚡</span>
                    <div class="feature-title">Sparky - Discovery Agent</div>
                    <div class="feature-desc">AI-powered negotiation specialist that understands customer intent and dynamically adjusts pricing with intelligent discount strategies.</div>
                </div>

                <div class="feature-card">
                    <span class="feature-icon">💳</span>
                    <div class="feature-title">Invoice Agent</div>
                    <div class="feature-desc">Automated billing and payment processing with real-time invoice generation and seamless financial clearance workflows.</div>
                </div>

                <div class="feature-card">
                    <span class="feature-icon">🚚</span>
                    <div class="feature-title">Shipping Agent</div>
                    <div class="feature-desc">Global logistics coordination with intelligent port selection, freight optimization, and end-to-end delivery management.</div>
                </div>
            </div>

            <div class="cta-container">
                <button class="demo-btn" onclick="startDemo()">
                    🚀 EXPERIENCE THE FUTURE
                </button>
            </div>
        </div>
    </div>

    <!-- Demo Container -->
    <div class="demo-container" id="demo-container">
        <div class="sidebar">
            <div class="logo">
                <svg class="sidebar-logo" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="sidebarGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <path d="M25 70 L35 55 L45 50 L75 50 L85 55 L95 70 L95 85 L25 85 Z" fill="url(#sidebarGradient)"/>
                    <circle cx="40" cy="80" r="6" fill="white"/>
                    <circle cx="80" cy="80" r="6" fill="white"/>
                    <circle cx="60" cy="62" r="8" fill="rgba(255,255,255,0.9)"/>
                    <path d="M55 45 L60 40 L58 42 L63 37 L58 42 L60 45 Z" fill="#FFD700"/>
                </svg>
                Otoz.ai
            </div>
            
            <div class="agent-status">
                <h4 style="margin-bottom: 15px; color: #334155;">Agent Status</h4>
                
                <div class="agent-card active" id="agent-sparky">
                    <div class="agent-avatar" style="background: #fef3c7; color: #f59e0b;">⚡</div>
                    <div class="agent-name">Sparky</div>
                    <div class="agent-role">Discovery & Negotiation</div>
                </div>
                
                <div class="agent-card" id="agent-invoice">
                    <div class="agent-avatar" style="background: #ddd6fe; color: #8b5cf6;">💳</div>
                    <div class="agent-name">Invoice Agent</div>
                    <div class="agent-role">Payment & Billing</div>
                </div>
                
                <div class="agent-card" id="agent-shipping">
                    <div class="agent-avatar" style="background: #bbf7d0; color: #059669;">🚚</div>
                    <div class="agent-name">Shipping Agent</div>
                    <div class="agent-role">Logistics & Delivery</div>
                </div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progress" style="width: 33%"></div>
            </div>
            
            <div style="margin-top: auto; font-size: 12px; color: #64748b; text-align: center;">
                <strong>Multi-Agent AI System</strong><br>
                Seamless handoffs between specialized agents
            </div>
        </div>
        
        <div class="main-content">
            <div class="header">
                <button class="back-btn" onclick="goBack()">← Back to Home</button>
                <h2 id="current-agent-title">Discovery & Negotiation with Sparky</h2>
                <div class="demo-badge">Live Demo</div>
            </div>
            
            <div class="chat-area">
                <!-- Car Discovery Phase -->
                <div class="car-card active" id="discovery-phase">
                    <div class="car-image">🚗</div>
                    <div class="car-details">
                        <div class="car-info">
                            <h3>2019 Toyota Camry</h3>
                            <div class="car-specs">
                                <div class="spec-item"><strong>Mileage:</strong> 45,000 km</div>
                                <div class="spec-item"><strong>Engine:</strong> 2.5L I4</div>
                                <div class="spec-item"><strong>Transmission:</strong> Automatic</div>
                                <div class="spec-item"><strong>Condition:</strong> Excellent</div>
                            </div>
                        </div>
                        <div class="price-section">
                            <div class="original-price" style="display: none;">$18,500</div>
                            <div class="current-price" id="negotiated-price">$18,500</div>
                            <div class="discount-badge" id="discount-badge" style="display: none;">DISCOUNT</div>
                        </div>
                    </div>
                    
                    <div class="negotiation-info">
                        <strong>💡 AI Negotiation Engine:</strong> Sparky can offer up to 10% intelligent discounts
                        <div class="price-range">
                            <span>Minimum: $16,650</span>
                            <span>Listed: $18,500</span>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="discovery-messages">
                        <div class="message">
                            <div class="message-avatar" style="background: #fef3c7; color: #f59e0b;">⚡</div>
                            <div class="message-content">Hi there! I'm Sparky, your personal AI car discovery agent! ⚡ I found this gorgeous 2019 Toyota Camry that perfectly matches what you're looking for. It's priced at $18,500 and has amazing features. What do you think? Ready to make a deal? 🚗✨</div>
                        </div>
                        
                        <div class="typing-indicator" id="typing1">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    </div>
                    
                    <div class="chat-input-container">
                        <input type="text" class="chat-input" id="user-input" placeholder="Type your message... Try: 'That's too expensive' or 'What's your best price?'" />
                        <button class="send-btn" id="send-btn" onclick="sendMessage()">➤</button>
                    </div>
                    
                    <div class="action-buttons" style="margin-top: 15px;">
                        <button class="btn btn-secondary" onclick="quickReply('That seems too expensive. Can you do better?')">💰 Too Expensive</button>
                        <button class="btn btn-secondary" onclick="quickReply('What is your absolute best price?')">🤝 Best Price?</button>
                        <button class="btn btn-primary" onclick="acceptCurrentPrice()" id="accept-btn">✅ Accept Deal</button>
                    </div>
                </div>

                <!-- Invoice Phase -->
                <div class="invoice-container" id="invoice-phase">
                    <div class="invoice-header">
                        <h3>🧾 AI Invoice Generation</h3>
                        <p style="color: #64748b;">Your Invoice Agent is preparing your purchase details</p>
                    </div>
                    
                    <div class="chat-messages" style="max-height: 200px;">
                        <div class="message">
                            <div class="message-avatar" style="background: #ddd6fe; color: #8b5cf6;">💳</div>
                            <div class="message-content">Perfect! I'm your Invoice Agent, and I've taken over from Sparky. 💳 I need to collect your shipping information and preferred shipping terms before generating the invoice. Let me get those details from you!</div>
                        </div>
                    </div>
                    
                    <div class="invoice-details" id="invoice-details" style="display: none;">
                        <div class="detail-section">
                            <h4>🚗 Vehicle Details</h4>
                            <div class="detail-item"><span>Vehicle:</span> <strong>2019 Toyota Camry</strong></div>
                            <div class="detail-item"><span>VIN:</span> <strong>4T1B11HK1KU123456</strong></div>
                            <div class="detail-item"><span>Mileage:</span> <strong>45,000 km</strong></div>
                            <div class="detail-item"><span>Condition:</span> <strong>Excellent</strong></div>
                            <div class="detail-item"><span>Location:</span> <strong>Tokyo, Japan</strong></div>
                        </div>
                        
                        <div class="detail-section">
                            <h4>👤 Customer Information</h4>
                            <div class="detail-item"><span>Name:</span> <strong id="customer-name-display">-</strong></div>
                            <div class="detail-item"><span>Email:</span> <strong id="customer-email-display">-</strong></div>
                            <div class="detail-item"><span>Phone:</span> <strong id="customer-phone-display">-</strong></div>
                            <div class="detail-item"><span>Address:</span> <strong id="customer-address-display">-</strong></div>
                            <div class="detail-item"><span>Country:</span> <strong id="customer-country-display">-</strong></div>
                            <div class="detail-item"><span>Destination Port:</span> <strong id="customer-port-display">-</strong></div>
                            <div class="detail-item"><span>Invoice #:</span> <strong>INV-2025-001234</strong></div>
                        </div>
                    </div>
                    
                    <div class="total-section" id="invoice-totals" style="display: none;">
                        <div class="total-item">
                            <span>Vehicle Price:</span>
                            <span id="vehicle-price">$18,500</span>
                        </div>
                        <div class="total-item">
                            <span>AI Negotiation Discount:</span>
                            <span id="discount-amount" style="color: #22c55e;">-$0</span>
                        </div>
                        <div class="total-item" id="inland-transport-item">
                            <span>Inland Transportation:</span>
                            <span id="inland-transport-cost">$200</span>
                        </div>
                        <div class="total-item" id="freight-item" style="display: none;">
                            <span>Ocean Freight:</span>
                            <span id="freight-cost">$0</span>
                        </div>
                        <div class="total-item" id="insurance-item" style="display: none;">
                            <span>Marine Insurance (2%):</span>
                            <span id="insurance-cost">$0</span>
                        </div>
                        <div class="total-item">
                            <span>Export Documentation:</span>
                            <span>$350</span>
                        </div>
                        <div class="total-item final">
                            <span>Total Amount (<span id="selected-terms">FOB</span>):</span>
                            <span id="final-total">$18,975</span>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="showCustomerInfoForm()" id="collect-info-btn">📋 Collect Customer Info</button>
                        <button class="btn btn-primary" onclick="proceedToShipping()" id="confirm-payment-btn" style="display: none;">💳 Confirm Payment</button>
                        <button class="btn btn-secondary" onclick="goBackToNegotiation()">← Back to Negotiation</button>
                    </div>
                </div>

                <!-- Shipping Phase -->
                <div class="shipping-container" id="shipping-phase">
                    <div class="shipping-header">
                        <h3>🚚 AI Shipping Coordination</h3>
                        <p style="color: #64748b;">Your Shipping Agent is organizing global logistics</p>
                    </div>
                    
                    <div class="chat-messages" style="max-height: 200px;">
                        <div class="message">
                            <div class="message-avatar" style="background: #bbf7d0; color: #059669;">🚚</div>
                            <div class="message-content">Excellent! I'm your Shipping Agent, and I've received the handoff from the Invoice Agent. 🚚 Payment confirmed! Now I'm coordinating the global logistics for your Toyota Camry from Tokyo to your destination. Let me finalize the shipping details!</div>
                        </div>
                    </div>
                    
                    <div style="margin: 20px 0;">
                        <h4 style="color: #1e293b; margin-bottom: 15px;">🌊 Select Shipping Port</h4>
                        <div class="port-selection">
                            <div class="port-card" onclick="selectPort(this, 'Tokyo Port', '$1,850', '25 days')">
                                <h5>🇯🇵 Tokyo Port</h5>
                                <p><strong>$1,850</strong> • 25 days</p>
                                <p>Most economical option</p>
                            </div>
                            <div class="port-card selected" onclick="selectPort(this, 'Yokohama Port', '$2,150', '20 days')">
                                <h5>🇯🇵 Yokohama Port</h5>
                                <p><strong>$2,150</strong> • 20 days</p>
                                <p>Recommended ⭐</p>
                            </div>
                            <div class="port-card" onclick="selectPort(this, 'Osaka Port', '$2,350', '18 days')">
                                <h5>🇯🇵 Osaka Port</h5>
                                <p><strong>$2,350</strong> • 18 days</p>
                                <p>Express shipping</p>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin: 20px 0;">
                        <h4 style="color: #1e293b; margin-bottom: 15px;">📅 Shipping Timeline</h4>
                        <div class="shipping-timeline">
                            <div class="timeline-step completed">✓</div>
                            <div class="timeline-step active">📋</div>
                            <div class="timeline-step">🚚</div>
                            <div class="timeline-step">🚢</div>
                            <div class="timeline-step">🏠</div>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 12px; color: #64748b; margin-top: 10px;">
                            <span>Payment</span>
                            <span>Documentation</span>
                            <span>Pickup</span>
                            <span>Transit</span>
                            <span>Delivery</span>
                        </div>
                    </div>
                    
                    <div class="total-section">
                        <div class="total-item">
                            <span>Vehicle + Fees:</span>
                            <span id="shipping-vehicle-total">$18,975</span>
                        </div>
                        <div class="total-item">
                            <span>Additional Shipping:</span>
                            <span id="shipping-cost">$0</span>
                        </div>
                        <div class="total-item">
                            <span>Handling Fee:</span>
                            <span>$275</span>
                        </div>
                        <div class="total-item final">
                            <span>Grand Total:</span>
                            <span id="grand-total">$19,250</span>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-success" onclick="completeOrder()">🎉 Complete Order</button>
                        <button class="btn btn-secondary" onclick="goBackToInvoice()">← Back to Invoice</button>
                    </div>
                </div>

                <!-- Success Phase -->
                <div class="shipping-container" id="success-phase">
                    <div class="success-animation">
                        <div class="checkmark">✅</div>
                        <h2 style="color: #22c55e; margin: 20px 0;">Order Completed Successfully!</h2>
                        <p style="color: #64748b; margin-bottom: 30px;">
                            Congratulations! Your AI agents have successfully coordinated your vehicle purchase and shipping.
                        </p>
                    </div>
                    
                    <div style="background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 12px; padding: 20px; margin: 20px 0;">
                        <h4 style="color: #166534; margin-bottom: 15px;">📦 Order Summary</h4>
                        <div style="color: #166534;">
                            <div class="detail-item"><span>Vehicle:</span> <strong>2019 Toyota Camry</strong></div>
                            <div class="detail-item"><span>Total Paid:</span> <strong id="summary-total">$19,250</strong></div>
                            <div class="detail-item"><span>Shipping Terms:</span> <strong id="summary-terms">FOB</strong></div>
                            <div class="detail-item"><span>Destination:</span> <strong id="summary-destination">Customer Port</strong></div>
                            <div class="detail-item"><span>ETA:</span> <strong>20 business days</strong></div>
                            <div class="detail-item"><span>Tracking ID:</span> <strong>OTOZ-TRK-789456</strong></div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="restartDemo()">🔄 Try Another Demo</button>
                        <button class="btn btn-secondary" onclick="goBack()">🏠 Back to Home</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Information Popup -->
    <div class="popup-overlay" id="customer-info-popup">
        <div class="customer-info-popup">
            <div class="popup-header">
                <h3>📋 Customer Information & Shipping Terms</h3>
                <p>Please provide your details for the Bill of Lading and select your preferred shipping terms</p>
            </div>
            
            <form id="customer-info-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Full Name *</label>
                        <input type="text" class="form-input" id="customer-name" placeholder="Enter your full name" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email Address *</label>
                        <input type="email" class="form-input" id="customer-email" placeholder="your@email.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Phone Number *</label>
                        <input type="tel" class="form-input" id="customer-phone" placeholder="+1-XXX-XXX-XXXX" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Country *</label>
                        <select class="form-select" id="customer-country" required>
                            <option value="">Select your country</option>
                            <option value="United States">United States</option>
                            <option value="Canada">Canada</option>
                            <option value="United Kingdom">United Kingdom</option>
                            <option value="Germany">Germany</option>
                            <option value="France">France</option>
                            <option value="Australia">Australia</option>
                            <option value="Brazil">Brazil</option>
                            <option value="South Africa">South Africa</option>
                            <option value="UAE">United Arab Emirates</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group full-width">
                        <label class="form-label">Full Address *</label>
                        <input type="text" class="form-input" id="customer-address" placeholder="Street address, City, State/Province, Postal Code" required>
                    </div>
                    
                    <div class="form-group full-width">
                        <label class="form-label">Destination Port *</label>
                        <select class="form-select" id="destination-port" required>
                            <option value="">Select destination port</option>
                            <option value="Los Angeles, CA">Los Angeles, CA</option>
                            <option value="Long Beach, CA">Long Beach, CA</option>
                            <option value="New York, NY">New York, NY</option>
                            <option value="Newark, NJ">Newark, NJ</option>
                            <option value="Savannah, GA">Savannah, GA</option>
                            <option value="Charleston, SC">Charleston, SC</option>
                            <option value="Houston, TX">Houston, TX</option>
                            <option value="Seattle, WA">Seattle, WA</option>
                            <option value="Vancouver, BC">Vancouver, BC</option>
                            <option value="Montreal, QC">Montreal, QC</option>
                            <option value="Felixstowe, UK">Felixstowe, UK</option>
                            <option value="Hamburg, Germany">Hamburg, Germany</option>
                            <option value="Le Havre, France">Le Havre, France</option>
                            <option value="Sydney, Australia">Sydney, Australia</option>
                            <option value="Melbourne, Australia">Melbourne, Australia</option>
                            <option value="Santos, Brazil">Santos, Brazil</option>
                            <option value="Durban, South Africa">Durban, South Africa</option>
                            <option value="Jebel Ali, UAE">Jebel Ali, UAE</option>
                        </select>
                    </div>
                </div>
                
                <div class="shipping-terms-section">
                    <div class="shipping-terms-title">🚢 Select Shipping Terms (Incoterms)</div>
                    
                    <div class="terms-options">
                        <div class="term-option selected" onclick="selectShippingTerm(this, 'FOB')">
                            <input type="radio" name="shipping-terms" value="FOB" checked>
                            <div class="term-header">
                                <span class="term-name">FOB (Free On Board)</span>
                                <span class="term-price" id="fob-price">+$200</span>
                            </div>
                            <div class="term-description">
                                You pay for the vehicle and inland transportation to the port. Ocean freight and insurance are your responsibility.
                            </div>
                            <div class="term-breakdown">
                                Includes: Vehicle price + Inland transport ($200) + Export docs ($350)
                            </div>
                        </div>
                        
                        <div class="term-option" onclick="selectShippingTerm(this, 'CFR')">
                            <input type="radio" name="shipping-terms" value="CFR">
                            <div class="term-header">
                                <span class="term-name">C&F (Cost & Freight)</span>
                                <span class="term-price" id="cfr-price">+$2,350</span>
                            </div>
                            <div class="term-description">
                                We handle ocean freight to your port. You arrange insurance and are responsible for import duties.
                            </div>
                            <div class="term-breakdown">
                                Includes: FOB + Ocean freight ($2,150)
                            </div>
                        </div>
                        
                        <div class="term-option" onclick="selectShippingTerm(this, 'CIF')">
                            <input type="radio" name="shipping-terms" value="CIF">
                            <div class="term-header">
                                <span class="term-name">CIF (Cost, Insurance & Freight)</span>
                                <span class="term-price" id="cif-price">+$2,720</span>
                            </div>
                            <div class="term-description">
                                Complete package - we handle everything to your port including marine insurance coverage.
                            </div>
                            <div class="term-breakdown" id="cif-breakdown">
                                Includes: C&F + Marine insurance (2% of vehicle value)
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="popup-actions">
                    <button type="button" class="popup-btn popup-btn-secondary" onclick="closeCustomerInfoForm()">Cancel</button>
                    <button type="submit" class="popup-btn popup-btn-primary">Generate Invoice</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Demo state management
        let currentPhase = 'discovery';
        let currentPrice = 18500;
        let discountApplied = 0;
        let negotiationCount = 0;
        let selectedShippingTerms = 'FOB';
        let customerInfo = {};

        // Shipping cost calculations
        const shippingCosts = {
            inlandTransport: 200,
            exportDocs: 350,
            oceanFreight: 2150,
            getInsurance: (vehiclePrice) => Math.round(vehiclePrice * 0.02)
        };

        // Start demo function
        function startDemo() {
            document.getElementById('welcome-page').style.display = 'none';
            document.getElementById('demo-container').classList.add('active');
        }

        // Go back to welcome page
        function goBack() {
            document.getElementById('welcome-page').style.display = 'flex';
            document.getElementById('demo-container').classList.remove('active');
            resetDemo();
        }

        // Show customer information form
        function showCustomerInfoForm() {
            updateShippingPrices();
            document.getElementById('customer-info-popup').classList.add('active');
        }

        // Close customer information form
        function closeCustomerInfoForm() {
            document.getElementById('customer-info-popup').classList.remove('active');
        }

        // Update shipping prices based on current vehicle price
        function updateShippingPrices() {
            const vehiclePrice = currentPrice;
            const insurance = shippingCosts.getInsurance(vehiclePrice);
            
            const fobTotal = shippingCosts.inlandTransport;
            const cfrTotal = fobTotal + shippingCosts.oceanFreight;
            const cifTotal = cfrTotal + insurance;
            
            document.getElementById('fob-price').textContent = `+$${fobTotal.toLocaleString()}`;
            document.getElementById('cfr-price').textContent = `+$${cfrTotal.toLocaleString()}`;
            document.getElementById('cif-price').textContent = `+$${cifTotal.toLocaleString()}`;
            document.getElementById('cif-breakdown').innerHTML = `Includes: C&F + Marine insurance (2% of $${vehiclePrice.toLocaleString()} = $${insurance.toLocaleString()})`;
        }

        // Select shipping terms
        function selectShippingTerm(element, term) {
            // Remove selected class from all options
            document.querySelectorAll('.term-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            element.classList.add('selected');
            
            // Update radio button
            const radioInput = document.querySelector(`input[value="${term}"]`);
            if (radioInput) {
                radioInput.checked = true;
            }
            
            selectedShippingTerms = term;
        }

        // Generate invoice with customer information
        function generateInvoiceWithCustomerInfo() {
            // Update customer information display
            document.getElementById('customer-name-display').textContent = customerInfo.name;
            document.getElementById('customer-email-display').textContent = customerInfo.email;
            document.getElementById('customer-phone-display').textContent = customerInfo.phone;
            document.getElementById('customer-address-display').textContent = customerInfo.address;
            document.getElementById('customer-country-display').textContent = customerInfo.country;
            document.getElementById('customer-port-display').textContent = customerInfo.port;
            
            // Calculate totals based on shipping terms
            calculateInvoiceTotals();
            
            // Show invoice details and totals
            document.getElementById('invoice-details').style.display = 'grid';
            document.getElementById('invoice-totals').style.display = 'block';
            
            // Hide collect info button and show confirm payment button
            document.getElementById('collect-info-btn').style.display = 'none';
            document.getElementById('confirm-payment-btn').style.display = 'inline-block';
            
            // Add AI message about invoice generation
            setTimeout(() => {
                const messagesContainer = document.querySelector('#invoice-phase .chat-messages');
                if (messagesContainer) {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'message';
                    messageDiv.innerHTML = `
                        <div class="message-avatar" style="background: #ddd6fe; color: #8b5cf6;">💳</div>
                        <div class="message-content">Perfect! I've generated your ${customerInfo.shippingTerms} invoice for ${customerInfo.name}. The vehicle will be shipped to ${customerInfo.port}. Your total is $${calculateFinalTotal().toLocaleString()}. Ready to proceed with payment? 💳✨</div>
                    `;
                    messagesContainer.appendChild(messageDiv);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                }
            }, 500);
        }

        // Calculate invoice totals based on shipping terms
        function calculateInvoiceTotals() {
            const vehiclePrice = currentPrice;
            const insurance = shippingCosts.getInsurance(vehiclePrice);
            
            // Update vehicle price and discount
            document.getElementById('vehicle-price').textContent = `$${vehiclePrice.toLocaleString()}`;
            document.getElementById('discount-amount').textContent = discountApplied > 0 ? `-$${discountApplied.toLocaleString()}` : '$0';
            
            // Show/hide line items based on shipping terms
            const inlandItem = document.getElementById('inland-transport-item');
            const freightItem = document.getElementById('freight-item');
            const insuranceItem = document.getElementById('insurance-item');
            
            if (inlandItem) {
                inlandItem.style.display = 'flex';
                document.getElementById('inland-transport-cost').textContent = `$${shippingCosts.inlandTransport.toLocaleString()}`;
            }
            
            if (selectedShippingTerms === 'FOB') {
                if (freightItem) freightItem.style.display = 'none';
                if (insuranceItem) insuranceItem.style.display = 'none';
            } else if (selectedShippingTerms === 'CFR') {
                if (freightItem) {
                    freightItem.style.display = 'flex';
                    document.getElementById('freight-cost').textContent = `$${shippingCosts.oceanFreight.toLocaleString()}`;
                }
                if (insuranceItem) insuranceItem.style.display = 'none';
            } else if (selectedShippingTerms === 'CIF') {
                if (freightItem) {
                    freightItem.style.display = 'flex';
                    document.getElementById('freight-cost').textContent = `$${shippingCosts.oceanFreight.toLocaleString()}`;
                }
                if (insuranceItem) {
                    insuranceItem.style.display = 'flex';
                    document.getElementById('insurance-cost').textContent = `$${insurance.toLocaleString()}`;
                }
            }
            
            // Update selected terms display and final total
            const selectedTermsEl = document.getElementById('selected-terms');
            const finalTotalEl = document.getElementById('final-total');
            if (selectedTermsEl) selectedTermsEl.textContent = selectedShippingTerms;
            if (finalTotalEl) finalTotalEl.textContent = `$${calculateFinalTotal().toLocaleString()}`;
        }

        // Calculate final total based on shipping terms
        function calculateFinalTotal() {
            const vehiclePrice = currentPrice;
            const insurance = shippingCosts.getInsurance(vehiclePrice);
            
            let total = vehiclePrice + shippingCosts.exportDocs + shippingCosts.inlandTransport;
            
            if (selectedShippingTerms === 'CFR' || selectedShippingTerms === 'CIF') {
                total += shippingCosts.oceanFreight;
            }
            
            if (selectedShippingTerms === 'CIF') {
                total += insurance;
            }
            
            return total;
        }

        // Reset demo to initial state
        function resetDemo() {
            currentPhase = 'discovery';
            currentPrice = 18500;
            discountApplied = 0;
            negotiationCount = 0;
            selectedShippingTerms = 'FOB';
            customerInfo = {};
            
            // Show discovery phase
            document.getElementById('discovery-phase').classList.add('active');
            document.getElementById('invoice-phase').classList.remove('active');
            document.getElementById('shipping-phase').classList.remove('active');
            document.getElementById('success-phase').classList.remove('active');
            
            // Reset agent states
            updateAgentStatus('sparky', true);
            updateProgress(33);
            document.getElementById('current-agent-title').textContent = 'Discovery & Negotiation with Sparky';
            
            // Reset price display
            updatePriceDisplay();
            
            // Clear user messages
            clearUserMessages();
            
            // Reset invoice form
            const form = document.getElementById('customer-info-form');
            if (form) {
                form.reset();
            }
            document.querySelectorAll('.term-option').forEach(option => {
                option.classList.remove('selected');
            });
            const firstTerm = document.querySelector('.term-option');
            if (firstTerm) {
                firstTerm.classList.add('selected');
            }
            const fobRadio = document.querySelector('input[value="FOB"]');
            if (fobRadio) {
                fobRadio.checked = true;
            }
            
            // Reset invoice display
            document.getElementById('invoice-details').style.display = 'none';
            document.getElementById('invoice-totals').style.display = 'none';
            document.getElementById('collect-info-btn').style.display = 'inline-block';
            document.getElementById('confirm-payment-btn').style.display = 'none';
        }

        // Send message function
        function sendMessage() {
            const input = document.getElementById('user-input');
            const message = input.value.trim();
            if (message) {
                addUserMessage(message);
                input.value = '';
                handleUserMessage(message);
            }
        }

        // Quick reply function
        function quickReply(message) {
            addUserMessage(message);
            handleUserMessage(message);
        }

        // Add user message to chat
        function addUserMessage(message) {
            const messagesContainer = document.getElementById('discovery-messages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `
                <div class="message-avatar" style="background: #667eea; color: white;">👤</div>
                <div class="message-content">${message}</div>
            `;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Add AI response
        function addAIResponse(message, delay = 1000) {
            const typingIndicator = document.getElementById('typing1');
            typingIndicator.classList.add('active');
            
            setTimeout(() => {
                typingIndicator.classList.remove('active');
                
                const messagesContainer = document.getElementById('discovery-messages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'message';
                messageDiv.innerHTML = `
                    <div class="message-avatar" style="background: #fef3c7; color: #f59e0b;">⚡</div>
                    <div class="message-content">${message}</div>
                `;
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }, delay);
        }

        // Handle user message logic
        function handleUserMessage(message) {
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('expensive') || lowerMessage.includes('too much') || lowerMessage.includes('cheaper') || lowerMessage.includes('lower')) {
                handleNegotiation('expensive');
            } else if (lowerMessage.includes('best price') || lowerMessage.includes('lowest') || lowerMessage.includes('final')) {
                handleNegotiation('best');
            } else if (lowerMessage.includes('accept') || lowerMessage.includes('deal') || lowerMessage.includes('buy')) {
                acceptCurrentPrice();
            } else {
                // Generic response
                const responses = [
                    "I understand! Let me see what I can do to make this work for you. 💪",
                    "Great question! This Toyota Camry is really worth every penny, but I'm here to negotiate! ⚡",
                    "I appreciate your interest! Let me check my pricing algorithms... 🤖"
                ];
                addAIResponse(responses[Math.floor(Math.random() * responses.length)]);
            }
        }

        // Handle negotiation logic
        function handleNegotiation(type) {
            negotiationCount++;
            let newDiscount = 0;
            let response = '';

            if (type === 'expensive' && negotiationCount === 1) {
                newDiscount = 500;
                response = "I hear you! Let me apply my AI magic... ✨ I can offer you a $500 discount! That brings it down to $18,000. This is a really good deal!";
            } else if (type === 'expensive' && negotiationCount === 2) {
                newDiscount = 1000;
                response = "Wow, you're a tough negotiator! 💪 My AI algorithms are working overtime... I can go as low as $17,500. That's $1,000 off!";
            } else if (type === 'best' || negotiationCount >= 3) {
                newDiscount = 1850;
                response = "Alright, you've convinced me! 🤝 Here's my ABSOLUTE best price - $16,650! That's 10% off the original price. This is as low as I can go!";
            }

            if (newDiscount > discountApplied) {
                discountApplied = newDiscount;
                currentPrice = 18500 - discountApplied;
                updatePriceDisplay();
            }

            addAIResponse(response);
        }

        // Update price display
        function updatePriceDisplay() {
            document.getElementById('negotiated-price').textContent = `$${currentPrice.toLocaleString()}`;
            
            if (discountApplied > 0) {
                document.querySelector('.original-price').style.display = 'block';
                document.querySelector('.original-price').textContent = '$18,500';
                document.getElementById('discount-badge').style.display = 'inline-block';
                document.getElementById('discount-badge').textContent = `$${discountApplied} OFF`;
            }
        }

        // Accept current price and move to invoice
        function acceptCurrentPrice() {
            addUserMessage("Perfect! I'll take it at this price.");
            addAIResponse("Fantastic! 🎉 Let me hand you over to our Invoice Agent to finalize your purchase. It's been a pleasure negotiating with you!", 1000);
            
            setTimeout(() => {
                proceedToInvoice();
            }, 2500);
        }

        // Proceed to invoice phase
        function proceedToInvoice() {
            currentPhase = 'invoice';
            document.getElementById('discovery-phase').classList.remove('active');
            document.getElementById('invoice-phase').classList.add('active');
            
            updateAgentStatus('invoice', true);
            updateProgress(66);
            document.getElementById('current-agent-title').textContent = 'Payment & Billing with Invoice Agent';
            
            // Reset invoice display
            document.getElementById('invoice-details').style.display = 'none';
            document.getElementById('invoice-totals').style.display = 'none';
            document.getElementById('collect-info-btn').style.display = 'inline-block';
            document.getElementById('confirm-payment-btn').style.display = 'none';
        }

        // Proceed to shipping
        function proceedToShipping() {
            currentPhase = 'shipping';
            document.getElementById('invoice-phase').classList.remove('active');
            document.getElementById('shipping-phase').classList.add('active');
            
            updateAgentStatus('shipping', true);
            updateProgress(100);
            document.getElementById('current-agent-title').textContent = 'Logistics & Delivery with Shipping Agent';
            
            // Update shipping totals based on selected terms
            const invoiceTotal = calculateFinalTotal();
            document.getElementById('shipping-vehicle-total').textContent = `$${invoiceTotal.toLocaleString()}`;
            
            // For shipping phase, calculate additional costs based on selected terms
            let additionalShipping = 0;
            if (selectedShippingTerms === 'FOB') {
                // Customer needs to arrange ocean freight and insurance
                additionalShipping = 0; // Show 0 as they arrange it themselves
            } else if (selectedShippingTerms === 'CFR') {
                // Customer needs to arrange insurance only
                additionalShipping = 0; // Show 0 as they arrange insurance themselves
            } else if (selectedShippingTerms === 'CIF') {
                // Everything is included, no additional costs
                additionalShipping = 0;
            }
            
            document.getElementById('shipping-cost').textContent = `$${additionalShipping.toLocaleString()}`;
            const grandTotal = invoiceTotal + additionalShipping + 275; // handling fee
            document.getElementById('grand-total').textContent = `$${grandTotal.toLocaleString()}`;
        }

        // Select shipping port
        function selectPort(element, portName, cost, time) {
            document.querySelectorAll('.port-card').forEach(card => {
                card.classList.remove('selected');
            });
            element.classList.add('selected');
            
            // Only update costs if FOB (customer arranges their own shipping)
            if (selectedShippingTerms === 'FOB') {
                document.getElementById('shipping-cost').textContent = cost;
                const vehicleTotal = parseInt(document.getElementById('shipping-vehicle-total').textContent.replace(/[$,]/g, ''));
                const shippingCost = parseInt(cost.replace(/[$,]/g, ''));
                const grandTotal = vehicleTotal + shippingCost + 275;
                document.getElementById('grand-total').textContent = `$${grandTotal.toLocaleString()}`;
            }
        }

        // Complete order
        function completeOrder() {
            document.getElementById('shipping-phase').classList.remove('active');
            document.getElementById('success-phase').classList.add('active');
            
            // Update summary details
            const grandTotal = document.getElementById('grand-total').textContent;
            document.getElementById('summary-total').textContent = grandTotal;
            document.getElementById('summary-terms').textContent = selectedShippingTerms;
            document.getElementById('summary-destination').textContent = customerInfo.port || 'Customer Port';
            
            document.getElementById('current-agent-title').textContent = 'Order Completed Successfully! 🎉';
        }

        // Navigation functions
        function goBackToNegotiation() {
            document.getElementById('invoice-phase').classList.remove('active');
            document.getElementById('discovery-phase').classList.add('active');
            currentPhase = 'discovery';
            updateAgentStatus('sparky', true);
            updateProgress(33);
            document.getElementById('current-agent-title').textContent = 'Discovery & Negotiation with Sparky';
        }

        function goBackToInvoice() {
            document.getElementById('shipping-phase').classList.remove('active');
            document.getElementById('invoice-phase').classList.add('active');
            currentPhase = 'invoice';
            updateAgentStatus('invoice', true);
            updateProgress(66);
            document.getElementById('current-agent-title').textContent = 'Payment & Billing with Invoice Agent';
        }

        function restartDemo() {
            resetDemo();
        }

        // Update agent status
        function updateAgentStatus(activeAgent, isActive) {
            // Reset all agents
            document.querySelectorAll('.agent-card').forEach(card => {
                card.classList.remove('active', 'completed');
            });
            
            // Set completed agents
            if (activeAgent === 'invoice' || activeAgent === 'shipping') {
                document.getElementById('agent-sparky').classList.add('completed');
            }
            if (activeAgent === 'shipping') {
                document.getElementById('agent-invoice').classList.add('completed');
            }
            
            // Set active agent
            if (isActive) {
                document.getElementById(`agent-${activeAgent}`).classList.add('active');
            }
        }

        // Update progress bar
        function updateProgress(percentage) {
            document.getElementById('progress').style.width = percentage + '%';
        }

        // Clear user messages from discovery chat
        function clearUserMessages() {
            const messagesContainer = document.getElementById('discovery-messages');
            // Keep only the initial Sparky message
            const initialMessage = messagesContainer.querySelector('.message:first-child');
            messagesContainer.innerHTML = '';
            if (initialMessage) {
                messagesContainer.appendChild(initialMessage);
            }
            
            // Re-add typing indicator
            const typingIndicator = document.createElement('div');
            typingIndicator.className = 'typing-indicator';
            typingIndicator.id = 'typing1';
            typingIndicator.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            messagesContainer.appendChild(typingIndicator);
        }

        // Initialize demo on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure welcome page is visible initially
            document.getElementById('welcome-page').style.display = 'flex';
            document.getElementById('demo-container').classList.remove('active');
            
            // Handle Enter key in input
            const userInput = document.getElementById('user-input');
            if (userInput) {
                userInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }
            
            // Initialize customer info form event listener
            const form = document.getElementById('customer-info-form');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Collect form data
                    customerInfo = {
                        name: document.getElementById('customer-name').value,
                        email: document.getElementById('customer-email').value,
                        phone: document.getElementById('customer-phone').value,
                        country: document.getElementById('customer-country').value,
                        address: document.getElementById('customer-address').value,
                        port: document.getElementById('destination-port').value,
                        shippingTerms: selectedShippingTerms
                    };
                    
                    // Validate required fields
                    if (!customerInfo.name || !customerInfo.email || !customerInfo.phone || 
                        !customerInfo.country || !customerInfo.address || !customerInfo.port) {
                        alert('Please fill in all required fields.');
                        return;
                    }
                    
                    // Close popup and generate invoice
                    closeCustomerInfoForm();
                    generateInvoiceWithCustomerInfo();
                });
            }
        });

        // Make functions globally accessible
        window.startDemo = startDemo;
        window.goBack = goBack;
        window.sendMessage = sendMessage;
        window.quickReply = quickReply;
        window.acceptCurrentPrice = acceptCurrentPrice;
        window.proceedToShipping = proceedToShipping;
        window.proceedToInvoice = proceedToInvoice;
        window.selectPort = selectPort;
        window.completeOrder = completeOrder;
        window.goBackToNegotiation = goBackToNegotiation;
        window.goBackToInvoice = goBackToInvoice;
        window.restartDemo = restartDemo;
        window.showCustomerInfoForm = showCustomerInfoForm;
        window.closeCustomerInfoForm = closeCustomerInfoForm;
        window.selectShippingTerm = selectShippingTerm;
    </script>
</body>
</html>
