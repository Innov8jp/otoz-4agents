<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Otoz.ai - The Future of Cross-Border Vehicle Trading</title>
    <!-- Link to your CSS file -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Notification Popup -->
    <div class="notification-overlay" id="notification-overlay">
        <div class="notification-popup" id="notification-popup">
            <div class="notification-header">
                <span class="notification-icon" id="notification-icon">‚ö†Ô∏è</span>
                <div class="notification-title" id="notification-title">Please Complete Your Preferences</div>
            </div>
            <div class="notification-message" id="notification-message">
                Please make sure to select all your preferences before we can find your perfect cars.
            </div>
            <div class="validation-list" id="validation-list" style="display: none;">
                <!-- Validation items will be inserted here -->
            </div>
            <div class="notification-actions">
                <button class="notification-btn notification-btn-primary" onclick="closeNotification()">Got It!</button>
            </div>
        </div>
    </div>

    <!-- Welcome Page -->
    <div class="welcome-page" id="welcome-page">
        <div class="floating-elements">
            <div class="floating-icon" style="left: 10%; animation-delay: 0s;">üöó</div>
            <div class="floating-icon" style="left: 20%; animation-delay: 2s;">‚ö°</div>
            <div class="floating-icon" style="left: 30%; animation-delay: 4s;">ü§ñ</div>
            <div class="floating-icon" style="left: 40%; animation-delay: 6s;">üåê</div>
            <div class="floating-icon" style="left: 50%; animation-delay: 8s;">üíé</div>
            <div class="floating-icon" style="left: 60%; animation-delay: 10s;">üöÄ</div>
            <div class="floating-icon" style="left: 70%; animation-delay: 12s;">üí≥</div>
            <div class="floating-icon" style="left: 80%; animation-delay: 14s;">üöö</div>
            <div class="floating-icon" style="left: 90%; animation-delay: 16s;">‚ö°</div>
        </div>

        <div class="hero-content">
            <div class="company-logo">
                <!-- Otoz.ai Logo SVG -->
                <svg class="otoz-logo" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#764ba2;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#f093fb;stop-opacity:1" />
                        </linearGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                            <feMerge> 
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                    
                    <!-- Outer circle -->
                    <circle cx="60" cy="60" r="55" fill="none" stroke="url(#logoGradient)" stroke-width="3" opacity="0.3"/>
                    
                    <!-- Car silhouette -->
                    <path d="M25 70 L35 55 L45 50 L75 50 L85 55 L95 70 L95 85 L25 85 Z" fill="url(#logoGradient)" filter="url(#glow)"/>
                    
                    <!-- Car details -->
                    <path d="M40 55 L45 50 L75 50 L80 55 Z" fill="rgba(255,255,255,0.4)"/>
                    <circle cx="40" cy="80" r="8" fill="white" stroke="url(#logoGradient)" stroke-width="2"/>
                    <circle cx="80" cy="80" r="8" fill="white" stroke="url(#logoGradient)" stroke-width="2"/>
                    
                    <!-- AI brain center -->
                    <circle cx="60" cy="62" r="15" fill="rgba(255,255,255,0.95)" stroke="url(#logoGradient)" stroke-width="2"/>
                    
                    <!-- AI neural network -->
                    <circle cx="55" cy="58" r="2" fill="url(#logoGradient)"/>
                    <circle cx="65" cy="58" r="2" fill="url(#logoGradient)"/>
                    <circle cx="60" cy="66" r="2" fill="url(#logoGradient)"/>
                    <line x1="55" y1="58" x2="60" y2="66" stroke="url(#logoGradient)" stroke-width="1"/>
                    <line x1="65" y1="58" x2="60" y2="66" stroke="url(#logoGradient)" stroke-width="1"/>
                    
                    <!-- Tech elements -->
                    <path d="M55 45 L60 40 L58 42 L63 37 L58 42 L60 45 Z" fill="#FFD700" filter="url(#glow)"/>
                    
                    <!-- Company initials -->
                    <text x="60" y="95" text-anchor="middle" fill="url(#logoGradient)" font-size="12" font-weight="bold">OTOZ</text>
                </svg>
                Otoz.ai
            </div>
            <div class="tagline">First AI-Driven Cross-Border Used Car Marketplace</div>
            <div class="hero-description">
                Buy Used Cars Globally‚ÄîSpeedy Buying, Shipping Right Away! Powered by AI for Smart, Secure, rapid Transactions‚ÄîRevolutionizing Car Trade History with our Multi-Agent AI Concierge System.
            </div>

            <div class="stats-container">
                <div class="stat-item">
                    <span class="stat-number">4</span>
                    <span class="stat-label">AI Agents</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">10%</span>
                    <span class="stat-label">Smart Discounts</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">Autonomous</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">Global</span>
                    <span class="stat-label">Reach</span>
                </div>
            </div>

            <div class="game-start-controls">
                <button class="start-game-btn" onclick="startDemo()">
                    üöÄ START YOUR JOURNEY
                </button>
                <button class="existing-customer-btn" onclick="showExistingCustomerPortal()">
                    üë§ EXISTING CUSTOMER
                </button>
            </div>
        </div>
    </div>

    <!-- Demo Container -->
    <div class="demo-container" id="demo-container">
        <!-- Onboarding Phase -->
        <div class="onboarding-container" id="onboarding-phase">
            <div class="onboarding-content">
                <div class="onboarding-title">ü§ñ Hi! I'm Sparky, Your AI Car Expert</div>
                <div class="onboarding-subtitle">Let me find the perfect car for you! Tell me your preferences...</div>
                
                <div class="preference-cards">
                    <!-- Vehicle Selection -->
                    <div class="preference-section">
                        <div class="preference-title">üöó Select Your Preferred Vehicle</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px;">
                            <div>
                                <label style="display: block; font-weight: 600; color: white; margin-bottom: 8px; font-size: 14px;">Make</label>
                                <select class="form-select" id="car-make" onchange="updateModelOptions()" style="background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); color: white; padding: 12px; border-radius: 12px; width: 100%;">
                                    <option value="">Any Make</option>
                                </select>
                            </div>
                            <div>
                                <label style="display: block; font-weight: 600; color: white; margin-bottom: 8px; font-size: 14px;">Model</label>
                                <select class="form-select" id="car-model" onchange="updateYearOptions()" style="background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); color: white; padding: 12px; border-radius: 12px; width: 100%;">
                                    <option value="">Any Model</option>
                                </select>
                            </div>
                            <div>
                                <label style="display: block; font-weight: 600; color: white; margin-bottom: 8px; font-size: 14px;">Year</label>
                                <select class="form-select" id="car-year" onchange="updatePreferenceStatus()" style="background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); color: white; padding: 12px; border-radius: 12px; width: 100%;">
                                    <option value="">Any Year</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Mileage Range -->
                    <div class="preference-section">
                        <div class="preference-title">üìè Preferred mileage range?</div>
                        <div class="range-slider-container">
                            <div class="range-labels">
                                <span>1,000 km</span>
                                <span>200,000 km</span>
                            </div>
                            <input type="range" class="range-slider" id="mileage-range" min="1000" max="200000" value="50000" step="1000" oninput="updateMileageDisplay(this.value)">
                            <div class="range-value" id="mileage-display">50,000 km</div>
                        </div>
                    </div>

                    <!-- Budget Range -->
                    <div class="preference-section">
                        <div class="preference-title">üí∞ What's your budget?</div>
                        <div class="range-slider-container">
                            <div class="range-labels">
                                <span>$1,000</span>
                                <span>$1,000,000</span>
                            </div>
                            <input type="range" class="range-slider" id="budget-range" min="1000" max="1000000" value="25000" step="1000" oninput="updateBudgetDisplay(this.value)">
                            <div class="range-value" id="budget-display">$25,000</div>
                        </div>
                    </div>
                </div>

                <button class="find-cars-btn" onclick="findMatchingCars();">
                    ‚ö° Find My Perfect Cars
                </button>
            </div>
        </div>

        <!-- Car Discovery Phase -->
        <div class="car-discovery-container" id="car-discovery-phase">
            <div class="discovery-header">
                <div class="discovery-title">üéØ Choose Your Perfect Car!</div>
                <div class="discovery-subtitle">Click the car you like to start negotiating with Sparky!</div>
            </div>
            
            <div style="display: flex; justify-content: center; align-items: center; min-height: 400px; padding: 20px; max-width: 1000px; margin: 0 auto;">
                <!-- Simple Car Grid -->
                <div id="simple-car-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; width: 100%; max-width: 900px;">
                    <!-- Car 1: Toyota Camry -->
                    <div class="simple-car-card" onclick="selectSimpleCar(1)">
                        <div style="height: 120px; background: linear-gradient(135deg, #667eea, #764ba2); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem; position: relative;">
                            üöó
                            <div style="position: absolute; top: 10px; right: 10px; background: rgba(34, 197, 94, 0.9); color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">üìà +3.2%</div>
                        </div>
                        
                        <div style="padding: 20px; text-align: center;">
                            <h3 style="margin: 0 0 10px 0; font-size: 1.2rem; font-weight: 700; color: #1e293b;">
                                2020 Toyota Camry
                            </h3>
                            <div style="color: #64748b; font-size: 0.9rem; margin-bottom: 8px;">
                                35,000 km ‚Ä¢ 2.5L I4 ‚Ä¢ Automatic
                            </div>
                            <div style="font-size: 1.8rem; font-weight: 900; color: #667eea; margin: 15px 0;">
                                $22,000
                            </div>
                            <div style="background: #f0f4ff; color: #4338ca; padding: 8px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; display: inline-block;">
                                ‚ö° Click to negotiate with Sparky!
                            </div>
                        </div>
                    </div>

                    <!-- Car 2: Honda Accord -->
                    <div class="simple-car-card" onclick="selectSimpleCar(2)">
                        <div style="height: 120px; background: linear-gradient(135deg, #22c55e, #16a34a); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem; position: relative;">
                            üöô
                            <div style="position: absolute; top: 10px; right: 10px; background: rgba(34, 197, 94, 0.9); color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">üìà +2.8%</div>
                        </div>
                        
                        <div style="padding: 20px; text-align: center;">
                            <h3 style="margin: 0 0 10px 0; font-size: 1.2rem; font-weight: 700; color: #1e293b;">
                                2019 Honda Accord
                            </h3>
                            <div style="color: #64748b; font-size: 0.9rem; margin-bottom: 8px;">
                                42,000 km ‚Ä¢ 1.5L Turbo ‚Ä¢ CVT
                            </div>
                            <div style="font-size: 1.8rem; font-weight: 900; color: #22c55e; margin: 15px 0;">
                                $20,500
                            </div>
                            <div style="background: #f0fdf4; color: #166534; padding: 8px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; display: inline-block;">
                                ‚ö° Click to negotiate with Sparky!
                            </div>
                        </div>
                    </div>

                    <!-- Car 3: BMW 3 Series -->
                    <div class="simple-car-card" onclick="selectSimpleCar(3)">
                        <div style="height: 120px; background: linear-gradient(135deg, #f59e0b, #d97706); display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem; position: relative;">
                            üèéÔ∏è
                            <div style="position: absolute; top: 10px; right: 10px; background: rgba(34, 197, 94, 0.9); color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px; font-weight: 600;">üìà +4.1%</div>
                        </div>
                        
                        <div style="padding: 20px; text-align: center;">
                            <h3 style="margin: 0 0 10px 0; font-size: 1.2rem; font-weight: 700; color: #1e293b;">
                                2020 BMW 3 Series
                            </h3>
                            <div style="color: #64748b; font-size: 0.9rem; margin-bottom: 8px;">
                                28,000 km ‚Ä¢ 2.0L Turbo ‚Ä¢ Automatic
                            </div>
                            <div style="font-size: 1.8rem; font-weight: 900; color: #f59e0b; margin: 15px 0;">
                                $32,000
                            </div>
                            <div style="background: #fffbeb; color: #92400e; padding: 8px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; display: inline-block;">
                                ‚ö° Click to negotiate with Sparky!
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="goBackToPreferences()">‚Üê Change Preferences</button>
            </div>
        </div>

        <!-- Chat Interface (Negotiation, Invoice, Shipping) -->
        <div style="display: none; width: 100%; height: 100%;" id="chat-interface">
            <div class="sidebar">
                <div class="logo">
                    <svg class="sidebar-logo" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="sidebarGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <path d="M25 70 L35 55 L45 50 L75 50 L85 55 L95 70 L95 85 L25 85 Z" fill="url(#sidebarGradient)"/>
                        <circle cx="40" cy="80" r="6" fill="white"/>
                        <circle cx="80" cy="80" r="6" fill="white"/>
                        <circle cx="60" cy="62" r="8" fill="rgba(255,255,255,0.9)"/>
                        <path d="M55 45 L60 40 L58 42 L63 37 L58 42 L60 45 Z" fill="#FFD700"/>
                    </svg>
                    Otoz.ai
                </div>
                
                <div class="agent-status">
                    <h4 style="margin-bottom: 15px; color: #334155;">Your AI Team</h4>
                    
                    <div class="agent-card active" id="agent-sparky">
                        <div class="agent-avatar" style="background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white;">‚ö°</div>
                        <div class="agent-name">Sparky</div>
                        <div class="agent-role">Discovery & Negotiation</div>
                        <div class="agent-tagline">Your energetic car finder!</div>
                    </div>
                    
                    <div class="agent-card" id="agent-penny">
                        <div class="agent-avatar" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white;">üíé</div>
                        <div class="agent-name">Penny</div>
                        <div class="agent-role">Payment & Billing</div>
                        <div class="agent-tagline">Financial wizard</div>
                    </div>
                    
                    <div class="agent-card" id="agent-inspector">
                        <div class="agent-avatar" style="background: linear-gradient(135deg, #06b6d4, #0891b2); color: white;">üîç</div>
                        <div class="agent-name">Inspector</div>
                        <div class="agent-role">Pre-Export Inspection</div>
                        <div class="agent-tagline">Quality guarantee</div>
                    </div>
                    
                    <div class="agent-card" id="agent-captain">
                        <div class="agent-avatar" style="background: linear-gradient(135deg, #059669, #047857); color: white;">üåä</div>
                        <div class="agent-name">Captain</div>
                        <div class="agent-role">Logistics & Delivery</div>
                        <div class="agent-tagline">Global shipping expert</div>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progress" style="width: 25%"></div>
                </div>
                
                <div style="margin-top: auto; font-size: 12px; color: #64748b; text-align: center;">
                    <strong>4-Agent AI System</strong><br>
                    Discovery ‚Üí Inspection ‚Üí Payment ‚Üí Shipping
                </div>
            </div>
            
            <div class="main-content">
                <div class="header">
                    <button class="back-btn" onclick="goBack()">‚Üê Back to Home</button>
                    <h2 id="current-agent-title">‚ö° Discovery & Negotiation with Sparky</h2>
                    <div class="demo-badge">Live Demo</div>
                </div>
                
                <div class="chat-area">
                    <!-- Negotiation Phase -->
                    <div class="negotiation-phase" id="negotiation-phase">
                        <div class="selected-car-display" id="selected-car-display">
                            <!-- Selected car details will be populated here -->
                        </div>
                        
                        <div class="negotiation-info">
                            <strong>‚ö° Sparky's AI Negotiation Engine:</strong> I can offer intelligent discounts up to 10%
                            <div class="price-range">
                                <span>My best price: <span id="min-price">$16,650</span></span>
                                <span>Listed price: <span id="max-price">$18,500</span></span>
                            </div>
                        </div>
                        
                        <div class="chat-messages" id="negotiation-messages">
                            <div class="message">
                                <div class="message-avatar" style="background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white;">‚ö°</div>
                                <div class="message-content">Hey there! I'm Sparky, your personal car-hunting AI! ‚ö° I'm absolutely THRILLED you picked this amazing ride! This beauty is already at a great price, but here's the exciting part - I've got some AI magic up my sleeve and might be able to work out an even better deal for you! What do you think about the current price? Let's make some sparks fly! üöó‚ú®</div>
                            </div>
                            
                            <div class="typing-indicator" id="typing-negotiation">
                                <div class="typing-dot"></div>
                                <div class="typing-dot"></div>
                                <div class="typing-dot"></div>
                            </div>
                        </div>
                        
                        <div class="chat-input-container">
                            <input type="text" class="chat-input" id="negotiation-input" placeholder="Type your message... Try: 'That's too expensive' or 'What's your best price?'" />
                            <button class="send-btn" onclick="sendNegotiationMessage()">‚û§</button>
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-secondary" onclick="quickReply('That seems too expensive. Can you do better?')">üí∞ Too Expensive</button>
                            <button class="btn btn-secondary" onclick="quickReply('What is your absolute best price?')">ü§ù Best Price?</button>
                            <button class="btn btn-primary" onclick="acceptCurrentPrice()" id="accept-btn">‚úÖ Accept Deal</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Customer Information Popup -->
    <div class="popup-overlay" id="customer-info-popup">
        <div class="customer-info-popup">
            <div class="popup-header">
                <h3>üìã Customer Information & Shipping Terms</h3>
                <p>Please provide your details for the Bill of Lading and select your preferred shipping terms</p>
            </div>
            
            <form id="customer-info-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Full Name *</label>
                        <input type="text" class="form-input" id="customer-name" placeholder="Enter your full name" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email Address *</label>
                        <input type="email" class="form-input" id="customer-email" placeholder="your@email.com" required>
                    </div>
                </div>
                
                <div class="popup-actions">
                    <button type="button" class="popup-btn popup-btn-secondary" onclick="closeCustomerInfoForm()">Cancel</button>
                    <button type="submit" class="popup-btn popup-btn-primary">Generate Invoice</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Existing Customer Portal -->
    <div class="popup-overlay" id="existing-customer-portal">
        <div class="customer-info-popup" style="max-width: 500px;">
            <div class="popup-header">
                <h3>üéØ Existing Customer Portal</h3>
                <p>Access your AI agents for order updates and support</p>
            </div>
            
            <div style="margin: 25px 0;">
                <div class="form-group">
                    <label class="form-label">Vehicle ID / Order Number</label>
                    <input type="text" class="form-input" id="customer-vehicle-id" placeholder="Enter your vehicle ID or order number" style="color: #1e293b;">
                </div>
            </div>
            
            <div style="margin: 25px 0;">
                <h4 style="color: #1e293b; margin-bottom: 15px;">ü§ñ Select Your AI Agent</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <button onclick="accessAgent('sparky')" style="padding: 15px; background: linear-gradient(135deg, #fbbf24, #f59e0b); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 600;">
                        üë®‚Äçüíº Sparky<br><small>Negotiation Status</small>
                    </button>
                    <button onclick="accessAgent('inspector')" style="padding: 15px; background: linear-gradient(135deg, #06b6d4, #0891b2); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 600;">
                        üë©‚Äçüî¨ Inspector<br><small>Quality Report</small>
                    </button>
                    <button onclick="accessAgent('penny')" style="padding: 15px; background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 600;">
                        üë©‚Äçüíº Penny<br><small>Payment Status</small>
                    </button>
                    <button onclick="accessAgent('captain')" style="padding: 15px; background: linear-gradient(135deg, #059669, #047857); color: white; border: none; border-radius: 12px; cursor: pointer; font-weight: 600;">
                        üë®‚Äç‚úàÔ∏è Captain<br><small>Shipping Tracker</small>
                    </button>
                </div>
            </div>
            
            <div class="popup-actions">
                <button type="button" class="popup-btn popup-btn-secondary" onclick="closeExistingCustomerPortal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Link to your JavaScript file -->
    <script src="js/main.js"></script>
</body>
</html>
